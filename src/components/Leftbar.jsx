import React, { useState } from 'react';
import { Link, useLocation } from 'react-router-dom';
import '../styles/components/Leftbar.css';

function LeftBar({ userRole = 'admin' }) {
  const location = useLocation();

  // Role management - can be passed as prop or defaults to 'admin'
  // ADMIN: Shows Dashboard, Product, Seller, Orders, Marketers, Customer, Analytics, Logout
  // SELLER: Shows only Seller Orders and Logout

  const [dropdownStates, setDropdownStates] = useState({
    seller: false,
    product: false,
    order: false,
    marketor: false,
    customer: false
  });

  // Helper function to check if a link is active
  const isActive = (path) => {
    if (path === '/dashboard' && (location.pathname === '/' || location.pathname === '/dashboard')) {
      return true;
    }
    return location.pathname === path || location.pathname.startsWith(path + '/');
  };

  // Toggle dropdown state
  const toggleDropdown = (dropdown, e) => {
    // Check if the click was on the dropdown icon
    const isDropdownIcon = e.target.closest('.dropdown-trigger') || e.target.classList.contains('dropdown-icon') || e.target.tagName.toLowerCase() === 'path';

    if (!isDropdownIcon) {
      // If clicking on menu item (not icon), only activate the route
      return;
    }

    // Close all other dropdowns when opening a new one
    setDropdownStates(prev => {
      const newState = { ...prev };
      Object.keys(newState).forEach(key => {
        newState[key] = key === dropdown ? !prev[key] : false;
      });
      return newState;
    });

    // Prevent the menu item click from navigating
    e.stopPropagation();
  };

  return (
    <div className="leftbar">
      <div className="leftbar-header">
        <h2>{userRole === 'seller' ? 'Seller' : 'Admin'} <br /> Panel</h2>
      </div>
      <div className="leftbar-menu">
        <ul>
          {/* Dashboard - Only for Admin */}
          {userRole === 'admin' && (
            <li><Link to="/dashboard" className={isActive('/dashboard') ? "active" : ""}>
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                <path d="M3 12.7858C3 13.051 3.10536 13.3053 3.29289 13.4929C3.48043 13.6804 3.73478 13.7858 4 13.7858H10C10.2652 13.7858 10.5196 13.6804 10.7071 13.4929C10.8946 13.3053 11 13.051 11 12.7858V4.78577C11 4.52055 10.8946 4.2662 10.7071 4.07866C10.5196 3.89112 10.2652 3.78577 10 3.78577H4C3.73478 3.78577 3.48043 3.89112 3.29289 4.07866C3.10536 4.2662 3 4.52055 3 4.78577V12.7858ZM3 20.7858C3 21.051 3.10536 21.3053 3.29289 21.4929C3.48043 21.6804 3.73478 21.7858 4 21.7858H10C10.2652 21.7858 10.5196 21.6804 10.7071 21.4929C10.8946 21.3053 11 21.051 11 20.7858V16.7858C11 16.5205 10.8946 16.2662 10.7071 16.0787C10.5196 15.8911 10.2652 15.7858 10 15.7858H4C3.73478 15.7858 3.48043 15.8911 3.29289 16.0787C3.10536 16.2662 3 16.5205 3 16.7858V20.7858ZM13 20.7858C13 21.051 13.1054 21.3053 13.2929 21.4929C13.4804 21.6804 13.7348 21.7858 14 21.7858H20C20.2652 21.7858 20.5196 21.6804 20.7071 21.4929C20.8946 21.3053 21 21.051 21 20.7858V12.7858C21 12.5205 20.8946 12.2662 20.7071 12.0787C20.5196 11.8911 20.2652 11.7858 20 11.7858H14C13.7348 11.7858 13.4804 11.8911 13.2929 12.0787C13.1054 12.2662 13 12.5205 13 12.7858V20.7858ZM14 3.78577C13.7348 3.78577 13.4804 3.89112 13.2929 4.07866C13.1054 4.2662 13 4.52055 13 4.78577V8.78577C13 9.05098 13.1054 9.30534 13.2929 9.49287C13.4804 9.68041 13.7348 9.78577 14 9.78577H20C20.2652 9.78577 20.5196 9.68041 20.7071 9.49287C20.8946 9.30534 21 9.05098 21 8.78577V4.78577C21 4.52055 20.8946 4.2662 20.7071 4.07866C20.5196 3.89112 20.2652 3.78577 20 3.78577H14Z" fill="url(#paint0_linear_276_1280)" />
                <defs>
                  <linearGradient id="paint0_linear_276_1280" x1="12" y1="3.78577" x2="12" y2="21.7858" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#009E18" />
                    <stop offset="1" stop-color="#0AFF2F" />
                  </linearGradient>
                </defs>
              </svg>Dash Board</Link></li>
          )}
          {userRole === 'seller' && (
            <li><Link to="/sellerpanel" className={isActive('/dashboard') ? "active" : ""}>
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                <path d="M3 12.7858C3 13.051 3.10536 13.3053 3.29289 13.4929C3.48043 13.6804 3.73478 13.7858 4 13.7858H10C10.2652 13.7858 10.5196 13.6804 10.7071 13.4929C10.8946 13.3053 11 13.051 11 12.7858V4.78577C11 4.52055 10.8946 4.2662 10.7071 4.07866C10.5196 3.89112 10.2652 3.78577 10 3.78577H4C3.73478 3.78577 3.48043 3.89112 3.29289 4.07866C3.10536 4.2662 3 4.52055 3 4.78577V12.7858ZM3 20.7858C3 21.051 3.10536 21.3053 3.29289 21.4929C3.48043 21.6804 3.73478 21.7858 4 21.7858H10C10.2652 21.7858 10.5196 21.6804 10.7071 21.4929C10.8946 21.3053 11 21.051 11 20.7858V16.7858C11 16.5205 10.8946 16.2662 10.7071 16.0787C10.5196 15.8911 10.2652 15.7858 10 15.7858H4C3.73478 15.7858 3.48043 15.8911 3.29289 16.0787C3.10536 16.2662 3 16.5205 3 16.7858V20.7858ZM13 20.7858C13 21.051 13.1054 21.3053 13.2929 21.4929C13.4804 21.6804 13.7348 21.7858 14 21.7858H20C20.2652 21.7858 20.5196 21.6804 20.7071 21.4929C20.8946 21.3053 21 21.051 21 20.7858V12.7858C21 12.5205 20.8946 12.2662 20.7071 12.0787C20.5196 11.8911 20.2652 11.7858 20 11.7858H14C13.7348 11.7858 13.4804 11.8911 13.2929 12.0787C13.1054 12.2662 13 12.5205 13 12.7858V20.7858ZM14 3.78577C13.7348 3.78577 13.4804 3.89112 13.2929 4.07866C13.1054 4.2662 13 4.52055 13 4.78577V8.78577C13 9.05098 13.1054 9.30534 13.2929 9.49287C13.4804 9.68041 13.7348 9.78577 14 9.78577H20C20.2652 9.78577 20.5196 9.68041 20.7071 9.49287C20.8946 9.30534 21 9.05098 21 8.78577V4.78577C21 4.52055 20.8946 4.2662 20.7071 4.07866C20.5196 3.89112 20.2652 3.78577 20 3.78577H14Z" fill="url(#paint0_linear_276_1280)" />
                <defs>
                  <linearGradient id="paint0_linear_276_1280" x1="12" y1="3.78577" x2="12" y2="21.7858" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#009E18" />
                    <stop offset="1" stop-color="#0AFF2F" />
                  </linearGradient>
                </defs>
              </svg>Dash Board</Link></li>
          )}
          {userRole === 'seller' && (
            <li className="dropdown-container">
                <div
                  className={`menu-item ${isActive('/product') ? "active" : ""}`}
                >
                  <Link to="/product" className="menu-link">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                      <g clip-path="url(#clip0_276_1284)">
                        <path d="M20.2501 13.5714C20.1838 13.5714 20.1202 13.5977 20.0733 13.6446C20.0264 13.6915 20.0001 13.7551 20.0001 13.8214V16.8214C20.0001 16.8877 20.0264 16.9513 20.0733 16.9982C20.1202 17.0451 20.1838 17.0714 20.2501 17.0714H22.5001C22.8979 17.0714 23.2794 16.9134 23.5607 16.6321C23.842 16.3507 24.0001 15.9692 24.0001 15.5714V13.8214C24.0001 13.7551 23.9737 13.6915 23.9268 13.6446C23.8799 13.5977 23.8164 13.5714 23.7501 13.5714H20.2501ZM18.7501 12.5714C18.8164 12.5714 18.8799 12.5451 18.9268 12.4982C18.9737 12.4513 19.0001 12.3877 19.0001 12.3214V10.5714C19.0001 10.4388 19.0527 10.3116 19.1465 10.2178C19.2403 10.1241 19.3674 10.0714 19.5001 10.0714C19.6327 10.0714 19.7598 10.1241 19.8536 10.2178C19.9474 10.3116 20.0001 10.4388 20.0001 10.5714V12.3214C20.0001 12.3877 20.0264 12.4513 20.0733 12.4982C20.1202 12.5451 20.1838 12.5714 20.2501 12.5714H23.7501C23.8164 12.5714 23.8799 12.5451 23.9268 12.4982C23.9737 12.4513 24.0001 12.3877 24.0001 12.3214V10.5714C24.0001 10.1736 23.842 9.79204 23.5607 9.51073C23.2794 9.22943 22.8979 9.07139 22.5001 9.07139H21.6601C21.6113 9.07156 21.5635 9.05745 21.5226 9.0308C21.4817 9.00414 21.4496 8.96611 21.4301 8.92139C21.4115 8.87397 21.4074 8.82216 21.418 8.77239C21.4287 8.72261 21.4537 8.67707 21.4901 8.64139L22.0001 8.07139C22.0669 7.93144 22.0887 7.77421 22.0625 7.62134C22.0363 7.46848 21.9633 7.32751 21.8536 7.21784C21.7439 7.10817 21.603 7.0352 21.4501 7.00897C21.2972 6.98274 21.14 7.00455 21.0001 7.07139L19.6801 8.33139C19.6567 8.35559 19.6288 8.37483 19.5978 8.38798C19.5669 8.40112 19.5337 8.4079 19.5001 8.4079C19.4665 8.4079 19.4332 8.40112 19.4023 8.38798C19.3713 8.37483 19.3434 8.35559 19.3201 8.33139L18.0001 7.07139C17.8601 7.00455 17.7029 6.98274 17.55 7.00897C17.3971 7.0352 17.2562 7.10817 17.1465 7.21784C17.0368 7.32751 16.9639 7.46848 16.9376 7.62134C16.9114 7.77421 16.9332 7.93144 17.0001 8.07139L17.5401 8.61139C17.5764 8.64707 17.6014 8.69261 17.6121 8.74239C17.6227 8.79216 17.6186 8.84397 17.6001 8.89139C17.5805 8.93611 17.5484 8.97414 17.5075 9.0008C17.4666 9.02745 17.4188 9.04156 17.3701 9.04139H16.5001C16.3005 9.04135 16.103 9.08112 15.919 9.15837C15.735 9.23563 15.5683 9.34881 15.4286 9.49129C15.289 9.63377 15.1791 9.80269 15.1055 9.98815C15.0319 10.1736 14.9961 10.3719 15.0001 10.5714V12.3214C15.0001 12.3877 15.0264 12.4513 15.0733 12.4982C15.1202 12.5451 15.1838 12.5714 15.2501 12.5714H18.7501ZM19.0001 13.8214C19.0001 13.7551 18.9737 13.6915 18.9268 13.6446C18.8799 13.5977 18.8164 13.5714 18.7501 13.5714H15.2501C15.1838 13.5714 15.1202 13.5977 15.0733 13.6446C15.0264 13.6915 15.0001 13.7551 15.0001 13.8214V15.5714C15.0001 15.9692 15.1581 16.3507 15.4394 16.6321C15.7207 16.9134 16.1022 17.0714 16.5001 17.0714H18.7501C18.8164 17.0714 18.8799 17.0451 18.9268 16.9982C18.9737 16.9513 19.0001 16.8877 19.0001 16.8214V13.8214Z" fill="#7184FF" />
                        <path d="M10.61 15.5714H13C13.2652 15.5714 13.5196 15.4661 13.7071 15.2785C13.8946 15.091 14 14.8366 14 14.5714C14 14.3062 13.8946 14.0518 13.7071 13.8643C13.5196 13.6768 13.2652 13.5714 13 13.5714H11.17C11.0982 13.572 11.027 13.5572 10.9615 13.5278C10.8959 13.4985 10.8374 13.4554 10.79 13.4014C10.7434 13.3507 10.7085 13.2904 10.6877 13.2248C10.667 13.1591 10.6609 13.0897 10.67 13.0214L11.35 6.52141C11.3624 6.39765 11.4206 6.28297 11.513 6.19976C11.6055 6.11655 11.7256 6.07079 11.85 6.07141H18.5C18.7652 6.07141 19.0196 5.96605 19.2071 5.77852C19.3946 5.59098 19.5 5.33663 19.5 5.07141C19.5 4.80619 19.3946 4.55184 19.2071 4.3643C19.0196 4.17677 18.7652 4.07141 18.5 4.07141H17.75C17.6837 4.07141 17.6201 4.04507 17.5732 3.99819C17.5263 3.9513 17.5 3.88772 17.5 3.82141V3.07141C17.5 2.27576 17.1839 1.5127 16.6213 0.950091C16.0587 0.387482 15.2956 0.0714111 14.5 0.0714111C13.7044 0.0714111 12.9413 0.387482 12.3787 0.950091C11.8161 1.5127 11.5 2.27576 11.5 3.07141V3.97141C11.5016 3.98493 11.5001 3.99864 11.4957 4.0115C11.4912 4.02437 11.4839 4.03605 11.4743 4.04568C11.4646 4.05531 11.453 4.06263 11.4401 4.06708C11.4272 4.07154 11.4135 4.07302 11.4 4.07141C10.904 4.06867 10.4247 4.25032 10.0551 4.58109C9.68556 4.91187 9.45207 5.36817 9.4 5.86141L8.61 13.3614C8.58128 13.6411 8.61186 13.9237 8.69974 14.1908C8.78761 14.4579 8.93082 14.7034 9.12 14.9114C9.30812 15.1198 9.53801 15.2863 9.79473 15.4001C10.0514 15.5138 10.3292 15.5722 10.61 15.5714ZM13.5 3.07141C13.5 2.80619 13.6054 2.55184 13.7929 2.3643C13.9804 2.17677 14.2348 2.07141 14.5 2.07141C14.7652 2.07141 15.0196 2.17677 15.2071 2.3643C15.3946 2.55184 15.5 2.80619 15.5 3.07141V3.82141C15.5 3.88772 15.4737 3.9513 15.4268 3.99819C15.3799 4.04507 15.3163 4.07141 15.25 4.07141H13.75C13.6837 4.07141 13.6201 4.04507 13.5732 3.99819C13.5263 3.9513 13.5 3.88772 13.5 3.82141V3.07141ZM1 14.8214C0.734784 14.8214 0.48043 14.9268 0.292893 15.1143C0.105357 15.3018 0 15.5562 0 15.8214L0 23.0714C0 23.3366 0.105357 23.591 0.292893 23.7785C0.48043 23.9661 0.734784 24.0714 1 24.0714C1.26522 24.0714 1.51957 23.9661 1.70711 23.7785C1.89464 23.591 2 23.3366 2 23.0714V15.8214C2 15.5562 1.89464 15.3018 1.70711 15.1143C1.51957 14.9268 1.26522 14.8214 1 14.8214ZM15.5 19.5714H6.38C6.29129 19.5827 6.2012 19.5749 6.11572 19.5486C6.03025 19.5224 5.95134 19.4782 5.88425 19.4191C5.81717 19.3599 5.76343 19.2872 5.72663 19.2057C5.68982 19.1242 5.67078 19.0358 5.67078 18.9464C5.67078 18.857 5.68982 18.7686 5.72663 18.6871C5.76343 18.6056 5.81717 18.5329 5.88425 18.4738C5.95134 18.4146 6.03025 18.3705 6.11572 18.3442C6.2012 18.3179 6.29129 18.3102 6.38 18.3214H8.9C9.06505 18.3213 9.22751 18.2803 9.37287 18.2021C9.51823 18.1239 9.64198 18.011 9.73308 17.8733C9.82417 17.7357 9.87979 17.5777 9.89495 17.4133C9.91012 17.2489 9.88437 17.0834 9.82 16.9314C9.64868 16.5271 9.3618 16.1823 8.99534 15.9404C8.62887 15.6984 8.19913 15.5701 7.76 15.5714H3.5C3.36739 15.5714 3.24021 15.6241 3.14645 15.7179C3.05268 15.8116 3 15.9388 3 16.0714V22.5714C3 22.704 3.05268 22.8312 3.14645 22.925C3.24021 23.0187 3.36739 23.0714 3.5 23.0714H14.26C14.5542 23.0714 14.8454 23.0135 15.1172 22.9009C15.389 22.7883 15.6359 22.6233 15.8439 22.4153C16.0519 22.2073 16.2169 21.9604 16.3295 21.6886C16.4421 21.4169 16.5 21.1256 16.5 20.8314V20.5714C16.5 20.3062 16.3946 20.0518 16.2071 19.8643C16.0196 19.6768 15.7652 19.5714 15.5 19.5714Z" fill="#FF8181" />
                      </g>
                      <defs>
                        <clipPath id="clip0_276_1284">
                          <rect width="24" height="24" fill="white" transform="translate(0 0.0714111)" />
                        </clipPath>
                      </defs>
                    </svg>
                    <span>Product</span>
                  </Link>
                  <div className="dropdown-trigger" onClick={(e) => toggleDropdown('product', e)}>
                    <svg
                      className={`dropdown-icon ${dropdownStates.product ? 'rotate' : ''}`}
                      xmlns="http://www.w3.org/2000/svg"
                      width="14"
                      height="8"
                      viewBox="0 0 14 8"
                      fill="none"
                    >
                      <path d="M0.292786 0.535994C0.480314 0.348523 0.734622 0.243207 0.999786 0.243207C1.26495 0.243207 1.51926 0.348523 1.70679 0.535994L6.65679 5.48599L11.6068 0.535994C11.7954 0.353836 12.048 0.253042 12.3102 0.25532C12.5724 0.257598 12.8232 0.362767 13.0086 0.548175C13.194 0.733583 13.2992 0.984396 13.3015 1.24659C13.3037 1.50879 13.2029 1.76139 13.0208 1.94999L7.36379 7.60699C7.17626 7.79446 6.92195 7.89978 6.65679 7.89978C6.39162 7.89978 6.13731 7.79446 5.94979 7.60699L0.292786 1.94999C0.105315 1.76247 0 1.50816 0 1.24299C0 0.977829 0.105315 0.723522 0.292786 0.535994Z" fill="#919191" />
                    </svg>
                  </div>
                </div>
                <ul className={`dropdown-menu ${dropdownStates.product ? 'show' : ''}`}>
                  <li><Link to="/product/add" className={isActive('/product/add') ? "active" : ""}>Add Product</Link></li>
                  <li><Link to="/productlist" className={isActive('/productlist') ? "active" : ""}>All Products</Link></li>
                </ul>
              </li>
            )}



          {userRole === 'admin' && (
            <>
              <li className="dropdown-container">
                <div
                  className={`menu-item ${isActive('/product') ? "active" : ""}`}
                >
                  <Link to="/product" className="menu-link">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                      <g clip-path="url(#clip0_276_1284)">
                        <path d="M20.2501 13.5714C20.1838 13.5714 20.1202 13.5977 20.0733 13.6446C20.0264 13.6915 20.0001 13.7551 20.0001 13.8214V16.8214C20.0001 16.8877 20.0264 16.9513 20.0733 16.9982C20.1202 17.0451 20.1838 17.0714 20.2501 17.0714H22.5001C22.8979 17.0714 23.2794 16.9134 23.5607 16.6321C23.842 16.3507 24.0001 15.9692 24.0001 15.5714V13.8214C24.0001 13.7551 23.9737 13.6915 23.9268 13.6446C23.8799 13.5977 23.8164 13.5714 23.7501 13.5714H20.2501ZM18.7501 12.5714C18.8164 12.5714 18.8799 12.5451 18.9268 12.4982C18.9737 12.4513 19.0001 12.3877 19.0001 12.3214V10.5714C19.0001 10.4388 19.0527 10.3116 19.1465 10.2178C19.2403 10.1241 19.3674 10.0714 19.5001 10.0714C19.6327 10.0714 19.7598 10.1241 19.8536 10.2178C19.9474 10.3116 20.0001 10.4388 20.0001 10.5714V12.3214C20.0001 12.3877 20.0264 12.4513 20.0733 12.4982C20.1202 12.5451 20.1838 12.5714 20.2501 12.5714H23.7501C23.8164 12.5714 23.8799 12.5451 23.9268 12.4982C23.9737 12.4513 24.0001 12.3877 24.0001 12.3214V10.5714C24.0001 10.1736 23.842 9.79204 23.5607 9.51073C23.2794 9.22943 22.8979 9.07139 22.5001 9.07139H21.6601C21.6113 9.07156 21.5635 9.05745 21.5226 9.0308C21.4817 9.00414 21.4496 8.96611 21.4301 8.92139C21.4115 8.87397 21.4074 8.82216 21.418 8.77239C21.4287 8.72261 21.4537 8.67707 21.4901 8.64139L22.0001 8.07139C22.0669 7.93144 22.0887 7.77421 22.0625 7.62134C22.0363 7.46848 21.9633 7.32751 21.8536 7.21784C21.7439 7.10817 21.603 7.0352 21.4501 7.00897C21.2972 6.98274 21.14 7.00455 21.0001 7.07139L19.6801 8.33139C19.6567 8.35559 19.6288 8.37483 19.5978 8.38798C19.5669 8.40112 19.5337 8.4079 19.5001 8.4079C19.4665 8.4079 19.4332 8.40112 19.4023 8.38798C19.3713 8.37483 19.3434 8.35559 19.3201 8.33139L18.0001 7.07139C17.8601 7.00455 17.7029 6.98274 17.55 7.00897C17.3971 7.0352 17.2562 7.10817 17.1465 7.21784C17.0368 7.32751 16.9639 7.46848 16.9376 7.62134C16.9114 7.77421 16.9332 7.93144 17.0001 8.07139L17.5401 8.61139C17.5764 8.64707 17.6014 8.69261 17.6121 8.74239C17.6227 8.79216 17.6186 8.84397 17.6001 8.89139C17.5805 8.93611 17.5484 8.97414 17.5075 9.0008C17.4666 9.02745 17.4188 9.04156 17.3701 9.04139H16.5001C16.3005 9.04135 16.103 9.08112 15.919 9.15837C15.735 9.23563 15.5683 9.34881 15.4286 9.49129C15.289 9.63377 15.1791 9.80269 15.1055 9.98815C15.0319 10.1736 14.9961 10.3719 15.0001 10.5714V12.3214C15.0001 12.3877 15.0264 12.4513 15.0733 12.4982C15.1202 12.5451 15.1838 12.5714 15.2501 12.5714H18.7501ZM19.0001 13.8214C19.0001 13.7551 18.9737 13.6915 18.9268 13.6446C18.8799 13.5977 18.8164 13.5714 18.7501 13.5714H15.2501C15.1838 13.5714 15.1202 13.5977 15.0733 13.6446C15.0264 13.6915 15.0001 13.7551 15.0001 13.8214V15.5714C15.0001 15.9692 15.1581 16.3507 15.4394 16.6321C15.7207 16.9134 16.1022 17.0714 16.5001 17.0714H18.7501C18.8164 17.0714 18.8799 17.0451 18.9268 16.9982C18.9737 16.9513 19.0001 16.8877 19.0001 16.8214V13.8214Z" fill="#7184FF" />
                        <path d="M10.61 15.5714H13C13.2652 15.5714 13.5196 15.4661 13.7071 15.2785C13.8946 15.091 14 14.8366 14 14.5714C14 14.3062 13.8946 14.0518 13.7071 13.8643C13.5196 13.6768 13.2652 13.5714 13 13.5714H11.17C11.0982 13.572 11.027 13.5572 10.9615 13.5278C10.8959 13.4985 10.8374 13.4554 10.79 13.4014C10.7434 13.3507 10.7085 13.2904 10.6877 13.2248C10.667 13.1591 10.6609 13.0897 10.67 13.0214L11.35 6.52141C11.3624 6.39765 11.4206 6.28297 11.513 6.19976C11.6055 6.11655 11.7256 6.07079 11.85 6.07141H18.5C18.7652 6.07141 19.0196 5.96605 19.2071 5.77852C19.3946 5.59098 19.5 5.33663 19.5 5.07141C19.5 4.80619 19.3946 4.55184 19.2071 4.3643C19.0196 4.17677 18.7652 4.07141 18.5 4.07141H17.75C17.6837 4.07141 17.6201 4.04507 17.5732 3.99819C17.5263 3.9513 17.5 3.88772 17.5 3.82141V3.07141C17.5 2.27576 17.1839 1.5127 16.6213 0.950091C16.0587 0.387482 15.2956 0.0714111 14.5 0.0714111C13.7044 0.0714111 12.9413 0.387482 12.3787 0.950091C11.8161 1.5127 11.5 2.27576 11.5 3.07141V3.97141C11.5016 3.98493 11.5001 3.99864 11.4957 4.0115C11.4912 4.02437 11.4839 4.03605 11.4743 4.04568C11.4646 4.05531 11.453 4.06263 11.4401 4.06708C11.4272 4.07154 11.4135 4.07302 11.4 4.07141C10.904 4.06867 10.4247 4.25032 10.0551 4.58109C9.68556 4.91187 9.45207 5.36817 9.4 5.86141L8.61 13.3614C8.58128 13.6411 8.61186 13.9237 8.69974 14.1908C8.78761 14.4579 8.93082 14.7034 9.12 14.9114C9.30812 15.1198 9.53801 15.2863 9.79473 15.4001C10.0514 15.5138 10.3292 15.5722 10.61 15.5714ZM13.5 3.07141C13.5 2.80619 13.6054 2.55184 13.7929 2.3643C13.9804 2.17677 14.2348 2.07141 14.5 2.07141C14.7652 2.07141 15.0196 2.17677 15.2071 2.3643C15.3946 2.55184 15.5 2.80619 15.5 3.07141V3.82141C15.5 3.88772 15.4737 3.9513 15.4268 3.99819C15.3799 4.04507 15.3163 4.07141 15.25 4.07141H13.75C13.6837 4.07141 13.6201 4.04507 13.5732 3.99819C13.5263 3.9513 13.5 3.88772 13.5 3.82141V3.07141ZM1 14.8214C0.734784 14.8214 0.48043 14.9268 0.292893 15.1143C0.105357 15.3018 0 15.5562 0 15.8214L0 23.0714C0 23.3366 0.105357 23.591 0.292893 23.7785C0.48043 23.9661 0.734784 24.0714 1 24.0714C1.26522 24.0714 1.51957 23.9661 1.70711 23.7785C1.89464 23.591 2 23.3366 2 23.0714V15.8214C2 15.5562 1.89464 15.3018 1.70711 15.1143C1.51957 14.9268 1.26522 14.8214 1 14.8214ZM15.5 19.5714H6.38C6.29129 19.5827 6.2012 19.5749 6.11572 19.5486C6.03025 19.5224 5.95134 19.4782 5.88425 19.4191C5.81717 19.3599 5.76343 19.2872 5.72663 19.2057C5.68982 19.1242 5.67078 19.0358 5.67078 18.9464C5.67078 18.857 5.68982 18.7686 5.72663 18.6871C5.76343 18.6056 5.81717 18.5329 5.88425 18.4738C5.95134 18.4146 6.03025 18.3705 6.11572 18.3442C6.2012 18.3179 6.29129 18.3102 6.38 18.3214H8.9C9.06505 18.3213 9.22751 18.2803 9.37287 18.2021C9.51823 18.1239 9.64198 18.011 9.73308 17.8733C9.82417 17.7357 9.87979 17.5777 9.89495 17.4133C9.91012 17.2489 9.88437 17.0834 9.82 16.9314C9.64868 16.5271 9.3618 16.1823 8.99534 15.9404C8.62887 15.6984 8.19913 15.5701 7.76 15.5714H3.5C3.36739 15.5714 3.24021 15.6241 3.14645 15.7179C3.05268 15.8116 3 15.9388 3 16.0714V22.5714C3 22.704 3.05268 22.8312 3.14645 22.925C3.24021 23.0187 3.36739 23.0714 3.5 23.0714H14.26C14.5542 23.0714 14.8454 23.0135 15.1172 22.9009C15.389 22.7883 15.6359 22.6233 15.8439 22.4153C16.0519 22.2073 16.2169 21.9604 16.3295 21.6886C16.4421 21.4169 16.5 21.1256 16.5 20.8314V20.5714C16.5 20.3062 16.3946 20.0518 16.2071 19.8643C16.0196 19.6768 15.7652 19.5714 15.5 19.5714Z" fill="#FF8181" />
                      </g>
                      <defs>
                        <clipPath id="clip0_276_1284">
                          <rect width="24" height="24" fill="white" transform="translate(0 0.0714111)" />
                        </clipPath>
                      </defs>
                    </svg>
                    <span>Product</span>
                  </Link>
                  <div className="dropdown-trigger" onClick={(e) => toggleDropdown('product', e)}>
                    <svg
                      className={`dropdown-icon ${dropdownStates.product ? 'rotate' : ''}`}
                      xmlns="http://www.w3.org/2000/svg"
                      width="14"
                      height="8"
                      viewBox="0 0 14 8"
                      fill="none"
                    >
                      <path d="M0.292786 0.535994C0.480314 0.348523 0.734622 0.243207 0.999786 0.243207C1.26495 0.243207 1.51926 0.348523 1.70679 0.535994L6.65679 5.48599L11.6068 0.535994C11.7954 0.353836 12.048 0.253042 12.3102 0.25532C12.5724 0.257598 12.8232 0.362767 13.0086 0.548175C13.194 0.733583 13.2992 0.984396 13.3015 1.24659C13.3037 1.50879 13.2029 1.76139 13.0208 1.94999L7.36379 7.60699C7.17626 7.79446 6.92195 7.89978 6.65679 7.89978C6.39162 7.89978 6.13731 7.79446 5.94979 7.60699L0.292786 1.94999C0.105315 1.76247 0 1.50816 0 1.24299C0 0.977829 0.105315 0.723522 0.292786 0.535994Z" fill="#919191" />
                    </svg>
                  </div>
                </div>
                <ul className={`dropdown-menu ${dropdownStates.product ? 'show' : ''}`}>
                  <li><Link to="/product/add" className={isActive('/product/add') ? "active" : ""}>Add Product</Link></li>
                  <li><Link to="/productlist" className={isActive('/productlist') ? "active" : ""}>All Products</Link></li>
                </ul>
              </li>

              

              <li className="dropdown-container">
                <div
                  className={`menu-item ${isActive('/seller') ? "active" : ""}`}
                >
                  <Link to="/seller" className="menu-link">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                      <path d="M13.09 6.05432L16.0405 9.02432L18.0835 20.5993L7.95999 22.3928L5.91699 10.8178L7.67149 7.01432L13.09 6.05432Z" fill="#FFF0B3" stroke="black" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" />
                      <path d="M11.32 8.0008C11.338 8.08849 11.3382 8.17889 11.3206 8.26667C11.3031 8.35445 11.2682 8.43782 11.2179 8.51187C11.1676 8.58592 11.103 8.64914 11.0278 8.69779C10.9527 8.74645 10.8686 8.77956 10.7804 8.79516C10.6923 8.81076 10.6019 8.80855 10.5146 8.78864C10.4274 8.76874 10.345 8.73154 10.2723 8.67926C10.1996 8.62698 10.1382 8.56067 10.0916 8.48425C10.045 8.40782 10.0142 8.32284 10.001 8.2343C9.98298 8.14662 9.98275 8.05621 10.0003 7.96844C10.0178 7.88066 10.0528 7.79728 10.1031 7.72324C10.1534 7.64919 10.218 7.58597 10.2931 7.53731C10.3682 7.48866 10.4524 7.45555 10.5405 7.43995C10.6287 7.42434 10.719 7.42656 10.8063 7.44646C10.8936 7.46637 10.976 7.50356 11.0486 7.55584C11.1213 7.60812 11.1827 7.67444 11.2293 7.75086C11.2759 7.82728 11.3068 7.91227 11.32 8.0008Z" fill="#FFF0B3" stroke="black" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" />
                      <path d="M9.49194 2.89282C9.59844 4.34332 9.89694 6.50282 10.5574 7.56882L9.49194 2.89282Z" fill="#FFF0B3" />
                      <path d="M9.49194 2.89282C9.59844 4.34332 9.89694 6.50282 10.5574 7.56882" stroke="black" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" />
                      <path d="M10.2256 3.32288C10.3171 5.29888 10.6481 7.97688 10.3271 7.60638L10.2256 3.32288ZM14.6811 14.1804C15.0401 13.9679 15.6906 13.6544 15.9371 13.8499C16.2041 14.0609 16.0186 14.6549 15.8341 15.1229" fill="#FFF0B3" />
                      <path d="M10.2256 3.32288C10.3171 5.29888 10.6481 7.97688 10.3271 7.60638M14.6811 14.1804C15.0401 13.9679 15.6906 13.6544 15.9371 13.8499C16.2041 14.0609 16.0186 14.6549 15.8341 15.1229" stroke="black" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" />
                      <path d="M7.6311 15.6018C8.3176 15.9418 10.2346 16.3098 12.1476 15.9708C13.9711 15.6478 14.9761 14.8378 15.4876 14.3608" fill="#FFF0B3" />
                      <path d="M7.6311 15.6018C8.3176 15.9418 10.2346 16.3098 12.1476 15.9708C13.9711 15.6478 14.9761 14.8378 15.4876 14.3608" stroke="black" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                    <span>Seller</span>
                  </Link>
                  <div className="dropdown-trigger" onClick={(e) => toggleDropdown('seller', e)}>
                    <svg
                      className={`dropdown-icon ${dropdownStates.seller ? 'rotate' : ''}`}
                      xmlns="http://www.w3.org/2000/svg"
                      width="14"
                      height="8"
                      viewBox="0 0 14 8"
                      fill="none"
                    >
                      <path d="M0.292786 0.535994C0.480314 0.348523 0.734622 0.243207 0.999786 0.243207C1.26495 0.243207 1.51926 0.348523 1.70679 0.535994L6.65679 5.48599L11.6068 0.535994C11.7954 0.353836 12.048 0.253042 12.3102 0.25532C12.5724 0.257598 12.8232 0.362767 13.0086 0.548175C13.194 0.733583 13.2992 0.984396 13.3015 1.24659C13.3037 1.50879 13.2029 1.76139 13.0208 1.94999L7.36379 7.60699C7.17626 7.79446 6.92195 7.89978 6.65679 7.89978C6.39162 7.89978 6.13731 7.79446 5.94979 7.60699L0.292786 1.94999C0.105315 1.76247 0 1.50816 0 1.24299C0 0.977829 0.105315 0.723522 0.292786 0.535994Z" fill="#919191" />
                    </svg>
                  </div>
                </div>
                <ul className={`dropdown-menu ${dropdownStates.seller ? 'show' : ''}`}>
                  <li><Link to="/seller/add-seller" className={isActive('/seller/add-seller') ? "active" : ""}>Add a Seller</Link></li>
                  <li><Link to="/seller/user" className={isActive('/seller/user') ? "active" : ""}>All Sellers</Link></li>
                </ul>
              </li>
            </>
          )}

          {/* Orders - Admin version */}
          {userRole === 'admin' && (
            <li className="dropdown-container">
              <div
                className={`menu-item ${isActive('/order') ? "active" : ""}`}
              >
                <Link to="/order" className="menu-link">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">
                    <path d="M4.036 2.8452L10.647 5.6782L8 6.8122L1.427 3.9952C1.575 3.8442 1.756 3.7222 1.962 3.6432L4.036 2.8452ZM5.374 2.3312L6.924 1.7352C7.61695 1.4688 8.38405 1.4688 9.077 1.7352L14.039 3.6432C14.244 3.7232 14.425 3.8432 14.573 3.9952L11.917 5.1332L5.374 2.3312ZM14.994 4.9032L8.5 7.6862V15.1362C8.69667 15.1029 8.889 15.0502 9.077 14.9782L14.039 13.0692C14.3219 12.9603 14.5651 12.7682 14.7367 12.5183C14.9082 12.2684 15 11.9723 15 11.6692V5.0432C15 4.99653 14.9977 4.94986 14.993 4.9032M7.5 15.1362V7.6862L1.007 4.9032C1.00303 4.94977 1.0007 4.99646 1 5.0432V11.6692C1.00004 11.9724 1.09199 12.2686 1.26373 12.5185C1.43547 12.7684 1.67893 12.9604 1.962 13.0692L6.923 14.9782C7.111 15.0502 7.30333 15.1029 7.5 15.1362Z" fill="#FF7F30" />
                  </svg>
                  <span>Orders</span>
                </Link>
                <div className="dropdown-trigger" onClick={(e) => toggleDropdown('order', e)}>
                  <svg
                    className={`dropdown-icon ${dropdownStates.order ? 'rotate' : ''}`}
                    xmlns="http://www.w3.org/2000/svg"
                    width="14"
                    height="8"
                    viewBox="0 0 14 8"
                    fill="none"
                  >
                    <path d="M0.292786 0.393172C0.480314 0.205701 0.734622 0.100385 0.999786 0.100385C1.26495 0.100385 1.51926 0.205701 1.70679 0.393172L6.65679 5.34317L11.6068 0.393172C11.7954 0.211014 12.048 0.110219 12.3102 0.112498C12.5724 0.114776 12.8232 0.219945 13.0086 0.405353C13.194 0.590761 13.2992 0.841574 13.3015 1.10377C13.3037 1.36597 13.2029 1.61857 13.0208 1.80717L7.36379 7.46417C7.17626 7.65164 6.92195 7.75696 6.65679 7.75696C6.39162 7.75696 6.13731 7.65164 5.94979 7.46417L0.292786 1.80717C0.105315 1.61964 0 1.36534 0 1.10017C0 0.835007 0.105315 0.580699 0.292786 0.393172Z" fill="#919191" />
                  </svg>
                </div>
              </div>
              <ul className={`dropdown-menu ${dropdownStates.order ? 'show' : ''}`}>
                <li><Link to="/order/new" className={isActive('/order/new') ? "active" : ""}>New Orders</Link></li>
                <li><Link to="/order" className={isActive('/order') && location.pathname === '/order' ? "active" : ""}>All Orders</Link></li>
              </ul>
            </li>
          )}

          {/* Orders - Seller version (only for sellers) */}
          {userRole === 'seller' && (
            <li className="dropdown-container">
              <div
                className={`menu-item ${isActive('/order') ? "active" : ""}`}
              >
                <Link to="/seller-order" className="menu-link">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">
                    <path d="M4.036 2.8452L10.647 5.6782L8 6.8122L1.427 3.9952C1.575 3.8442 1.756 3.7222 1.962 3.6432L4.036 2.8452ZM5.374 2.3312L6.924 1.7352C7.61695 1.4688 8.38405 1.4688 9.077 1.7352L14.039 3.6432C14.244 3.7232 14.425 3.8432 14.573 3.9952L11.917 5.1332L5.374 2.3312ZM14.994 4.9032L8.5 7.6862V15.1362C8.69667 15.1029 8.889 15.0502 9.077 14.9782L14.039 13.0692C14.3219 12.9603 14.5651 12.7682 14.7367 12.5183C14.9082 12.2684 15 11.9723 15 11.6692V5.0432C15 4.99653 14.9977 4.94986 14.993 4.9032M7.5 15.1362V7.6862L1.007 4.9032C1.00303 4.94977 1.0007 4.99646 1 5.0432V11.6692C1.00004 11.9724 1.09199 12.2686 1.26373 12.5185C1.43547 12.7684 1.67893 12.9604 1.962 13.0692L6.923 14.9782C7.111 15.0502 7.30333 15.1029 7.5 15.1362Z" fill="#FF7F30" />
                  </svg>
                  <span>Seller Orders</span>
                </Link>
                <div className="dropdown-trigger" onClick={(e) => toggleDropdown('order', e)}>
                  <svg
                    className={`dropdown-icon ${dropdownStates.order ? 'rotate' : ''}`}
                    xmlns="http://www.w3.org/2000/svg"
                    width="14"
                    height="8"
                    viewBox="0 0 14 8"
                    fill="none"
                  >
                    <path d="M0.292786 0.393172C0.480314 0.205701 0.734622 0.100385 0.999786 0.100385C1.26495 0.100385 1.51926 0.205701 1.70679 0.393172L6.65679 5.34317L11.6068 0.393172C11.7954 0.211014 12.048 0.110219 12.3102 0.112498C12.5724 0.114776 12.8232 0.219945 13.0086 0.405353C13.194 0.590761 13.2992 0.841574 13.3015 1.10377C13.3037 1.36597 13.2029 1.61857 13.0208 1.80717L7.36379 7.46417C7.17626 7.65164 6.92195 7.75696 6.65679 7.75696C6.39162 7.75696 6.13731 7.65164 5.94979 7.46417L0.292786 1.80717C0.105315 1.61964 0 1.36534 0 1.10017C0 0.835007 0.105315 0.580699 0.292786 0.393172Z" fill="#919191" />
                  </svg>
                </div>
              </div>
              <ul className={`dropdown-menu ${dropdownStates.order ? 'show' : ''}`}>
                <li><Link to="/order/new" className={isActive('/order/new') ? "active" : ""}>Add an Order</Link></li>
                                <li><Link to="/order/new" className={isActive('/order/new') ? "active" : ""}>Delivery</Link></li>

                <li><Link to="/order" className={isActive('/order') && location.pathname === '/order' ? "active" : ""}>Order Approval</Link></li>
              </ul>
            </li>
          )}

                      {userRole === 'seller' && (
                            <li><Link to="/admin-analytics" className={isActive('/admin-analytics') ? "active" : ""}>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">
                  <path d="M4 5.5H8V6.5H4V5.5ZM4 3.5H10V4.5H4V3.5ZM4 1.5H10V2.5H4V1.5Z" fill="#FF2626" />
                  <path d="M2.3555 14.5L5.171 9.502L8.888 12.747C9.00036 12.847 9.13383 12.9203 9.27846 12.9616C9.4231 13.0028 9.57518 13.0109 9.72337 12.9853C9.87157 12.9596 10.0121 12.9009 10.1344 12.8134C10.2568 12.7259 10.3578 12.6119 10.43 12.48L13.915 7.2785L13.0845 6.7215L9.5845 11.9455L9.5495 11.997L5.832 8.752C5.71967 8.65259 5.58645 8.57968 5.44217 8.53865C5.29789 8.49762 5.14624 8.48953 4.99841 8.51497C4.85058 8.5404 4.71036 8.59872 4.58809 8.68562C4.46582 8.77251 4.36463 8.88576 4.292 9.017L2 13.0915V1.5H1V14.5C1 14.7652 1.10536 15.0196 1.29289 15.2071C1.48043 15.3946 1.73478 15.5 2 15.5H15V14.5H2.3555Z" fill="#3752FF" />
                </svg>Seller Analytics</Link></li>
            )}

          {userRole === 'admin' && (
            <>
              <li className="dropdown-container">
                <div
                  className={`menu-item ${isActive('/marketor') ? "active" : ""}`}
                >
                  <Link to="/marketor" className="menu-link">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">
                      <path d="M14.2615 12.8351C14.0025 12.5801 10.864 11.3661 10.2945 11.1371C9.72799 10.9121 9.50198 10.2886 9.50198 10.2886C9.50198 10.2886 9.24698 10.4296 9.24698 10.0336C9.24698 9.63711 9.50198 10.2886 9.75698 8.75961C9.75698 8.75961 10.4645 8.56111 10.324 6.91961H10.154C10.154 6.91961 10.579 5.16461 10.154 4.57061C9.72748 3.97661 9.56048 3.58061 8.62398 3.29661C7.68898 3.01311 8.02898 3.06961 7.34998 3.09861C6.66998 3.12711 6.10398 3.49511 6.10398 3.69261C6.10398 3.69261 5.67898 3.72111 5.50998 3.89111C5.33998 4.06111 5.05698 4.85311 5.05698 5.05111C5.05698 5.24911 5.19848 6.58111 5.33998 6.86311L5.17148 6.91811C5.02998 8.56011 5.73748 8.75911 5.73748 8.75911C5.99248 10.2881 6.24748 9.63661 6.24748 10.0331C6.24748 10.4291 5.99248 10.2881 5.99248 10.2881C5.99248 10.2881 5.76598 10.9111 5.19998 11.1366C4.63398 11.3631 1.49198 12.5801 1.23648 12.8346C0.981484 13.0946 1.00998 14.2826 1.00998 14.2826H7.02798L7.46698 12.5526L7.07698 12.1626L7.74848 11.4901L8.41998 12.1621L8.02998 12.5521L8.46898 14.2821H14.487C14.487 14.2821 14.5185 13.0931 14.2605 12.8336L14.2615 12.8351Z" fill="#9977FF" />
                    </svg>
                    <span>Marketers</span>
                  </Link>
                  <div className="dropdown-trigger" onClick={(e) => toggleDropdown('marketor', e)}>
                    <svg
                      className={`dropdown-icon ${dropdownStates.marketor ? 'rotate' : ''}`}
                      xmlns="http://www.w3.org/2000/svg"
                      width="14"
                      height="8"
                      viewBox="0 0 14 8"
                      fill="none"
                    >
                      <path d="M0.292786 0.393172C0.480314 0.205701 0.734622 0.100385 0.999786 0.100385C1.26495 0.100385 1.51926 0.205701 1.70679 0.393172L6.65679 5.34317L11.6068 0.393172C11.7954 0.211014 12.048 0.110219 12.3102 0.112498C12.5724 0.114776 12.8232 0.219945 13.0086 0.405353C13.194 0.590761 13.2992 0.841574 13.3015 1.10377C13.3037 1.36597 13.2029 1.61857 13.0208 1.80717L7.36379 7.46417C7.17626 7.65164 6.92195 7.75696 6.65679 7.75696C6.39162 7.75696 6.13731 7.65164 5.94979 7.46417L0.292786 1.80717C0.105315 1.61964 0 1.36534 0 1.10017C0 0.835007 0.105315 0.580699 0.292786 0.393172Z" fill="#919191" />
                    </svg>
                  </div>
                </div>
                <ul className={`dropdown-menu ${dropdownStates.marketor ? 'show' : ''}`}>
                  <li><Link to="/add-marketor" className={isActive('/add-marketor') ? "active" : ""}>Add a Marketer</Link></li>
                  <li><Link to="/marketor/all" className={isActive('/marketor/all') ? "active" : ""}>All Marketers</Link></li>
                </ul>
              </li>

              <li className="dropdown-container">
                <div
                  className={`menu-item ${isActive('/customer') ? "active" : ""}`}
                >
                  <Link to="/customer" className="menu-link">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                      <path d="M16 11.2142C17.66 11.2142 18.99 9.87423 18.99 8.21423C18.99 6.55423 17.66 5.21423 16 5.21423C14.34 5.21423 13 6.55423 13 8.21423C13 9.87423 14.34 11.2142 16 11.2142ZM8 11.2142C9.66 11.2142 10.99 9.87423 10.99 8.21423C10.99 6.55423 9.66 5.21423 8 5.21423C6.34 5.21423 5 6.55423 5 8.21423C5 9.87423 6.34 11.2142 8 11.2142ZM8 13.2142C5.67 13.2142 1 14.3842 1 16.7142V18.2142C1 18.7642 1.45 19.2142 2 19.2142H14C14.55 19.2142 15 18.7642 15 18.2142V16.7142C15 14.3842 10.33 13.2142 8 13.2142ZM16 13.2142C15.71 13.2142 15.38 13.2342 15.03 13.2642C15.05 13.2742 15.06 13.2942 15.07 13.3042C16.21 14.1342 17 15.2442 17 16.7142V18.2142C17 18.5642 16.93 18.9042 16.82 19.2142H22C22.55 19.2142 23 18.7642 23 18.2142V16.7142C23 14.3842 18.33 13.2142 16 13.2142Z" fill="#FFBD2D" />
                    </svg>
                    <span>Customer</span>
                  </Link>
                  <div className="dropdown-trigger" onClick={(e) => toggleDropdown('customer', e)}>
                    <svg
                      className={`dropdown-icon ${dropdownStates.customer ? 'rotate' : ''}`}
                      xmlns="http://www.w3.org/2000/svg"
                      width="14"
                      height="8"
                      viewBox="0 0 14 8"
                      fill="none"
                    >
                      <path d="M0.292786 0.393172C0.480314 0.205701 0.734622 0.100385 0.999786 0.100385C1.26495 0.100385 1.51926 0.205701 1.70679 0.393172L6.65679 5.34317L11.6068 0.393172C11.7954 0.211014 12.048 0.110219 12.3102 0.112498C12.5724 0.114776 12.8232 0.219945 13.0086 0.405353C13.194 0.590761 13.2992 0.841574 13.3015 1.10377C13.3037 1.36597 13.2029 1.61857 13.0208 1.80717L7.36379 7.46417C7.17626 7.65164 6.92195 7.75696 6.65679 7.75696C6.39162 7.75696 6.13731 7.65164 5.94979 7.46417L0.292786 1.80717C0.105315 1.61964 0 1.36534 0 1.10017C0 0.835007 0.105315 0.580699 0.292786 0.393172Z" fill="#919191" />
                    </svg>
                  </div>
                </div>
                <ul className={`dropdown-menu ${dropdownStates.customer ? 'show' : ''}`}>
                  <li><Link to="/customer/add" className={isActive('/customer/add') ? "active" : ""}>Add Customer</Link></li>
                  <li><Link to="/customer/user" className={isActive('/customer/user') && location.pathname === '/customer/user' ? "active" : ""}>All Customers</Link></li>
                </ul>
              </li>

              <li><Link to="/admin-analytics" className={isActive('/admin-analytics') ? "active" : ""}>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">
                  <path d="M4 5.5H8V6.5H4V5.5ZM4 3.5H10V4.5H4V3.5ZM4 1.5H10V2.5H4V1.5Z" fill="#FF2626" />
                  <path d="M2.3555 14.5L5.171 9.502L8.888 12.747C9.00036 12.847 9.13383 12.9203 9.27846 12.9616C9.4231 13.0028 9.57518 13.0109 9.72337 12.9853C9.87157 12.9596 10.0121 12.9009 10.1344 12.8134C10.2568 12.7259 10.3578 12.6119 10.43 12.48L13.915 7.2785L13.0845 6.7215L9.5845 11.9455L9.5495 11.997L5.832 8.752C5.71967 8.65259 5.58645 8.57968 5.44217 8.53865C5.29789 8.49762 5.14624 8.48953 4.99841 8.51497C4.85058 8.5404 4.71036 8.59872 4.58809 8.68562C4.46582 8.77251 4.36463 8.88576 4.292 9.017L2 13.0915V1.5H1V14.5C1 14.7652 1.10536 15.0196 1.29289 15.2071C1.48043 15.3946 1.73478 15.5 2 15.5H15V14.5H2.3555Z" fill="#3752FF" />
                </svg>Admin Analytics</Link></li>
            </>
          )}

          {/* Logout - Available for all users */}
          <li><Link to="/logout" className={isActive('/logout') ? "active" : ""}>Logout</Link></li>
        </ul>
      </div>
    </div>
  );
}

export default LeftBar;